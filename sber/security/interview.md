# Список вопросов:

1. Что делает команда Linux `chmod 640`? (Linux)
2. Что такое `SWAP` и для чего используется? (Linux)
3. Откуда берется `SWAP` память? (Linux)
4. Что такое `Inode`? (Linux)
5. На боевом разделе закончились `Inode`, там лежат важные данные, которые никак нельзя удалять. Что сделать чтобы спасти ситуацию? (Linux)
6. Какую лучше выбрать ФС для большого кол-ва INODE? (Linux)
7. Что такое Load Average? Интерпретировать когда он у нас большой и пора паниковать, а когда всё в норме? (Linux)
8. Есть сервер (4 ядра, 16 гб памяти), LA в моменте - 17. Это плохо или хорошо? (Linux)
9. 

## Собеседование со Сбер Кибер Безопасность:

-----------------------

# Вопросы из записи в iCloud (Тех собес Кибер Сбер 1/1):

# Linux:

## 1. Что делает команда Linux `chmod 640`? (Linux)

Команда Linux `chmod 640` устанавливает права доступа к файлу или директории в следующем формате:

- Владелец файла имеет права на чтение и запись (6).
- Пользователи, принадлежащие к группе владельца файла, имеют право на чтение (4).
- Остальные пользователи не имеют никаких прав доступа (0).

## 2. Что такое `SWAP` и для чего используется? (Linux)

SWAP - это область на жестком диске, которая используется операционной системой для временного хранения данных, когда физическая память (RAM) исчерпана. Когда оперативная память заполнена, неиспользуемые данные перемещаются в область SWAP, что позволяет системе продолжать работу, избегая ошибок из-за нехватки памяти.

SWAP обычно используется в случаях, когда недостаточно оперативной памяти для запуска приложений или процессов, и помогает избежать ситуации, когда система начинает использовать файл подкачки (swap file) или swap partition.

Примеры команд в Linux для работы с SWAP:

1. Просмотр текущего использования SWAP:
```
sudo swapon --show
```

2. Создание SWAP файла:
```
sudo fallocate -l 1G /swapfile   # создание файла размером 1 ГБ
sudo chmod 600 /swapfile         # установка прав доступа
sudo mkswap /swapfile            # создание SWAP области
sudo swapon /swapfile            # включение SWAP файла
```

3. Настройка SWAP при загрузке системы:
Добавьте запись о SWAP файле в файл `/etc/fstab` для автоматического монтирования при загрузке:
```
echo '/swapfile none swap sw 0 0' | sudo tee -a /etc/fstab
```

4. Отключение SWAP файла:
```
sudo swapoff /swapfile   # отключение SWAP файла
```

5. Удаление SWAP файла:
```
sudo rm /swapfile   # удаление SWAP файла
```

SWAP является важным компонентом для оптимизации использования памяти в Linux системах и может быть настроен и использован в зависимости от потребностей и конфигурации системы.

## 3. Откуда берется `SWAP` память? (Linux)

SWAP память в Linux берется из области жесткого диска, которая выделена для временного хранения данных, когда физическая оперативная память (RAM) заполнена. SWAP память используется в качестве дополнения к оперативной памяти и помогает избежать ситуаций нехватки памяти.

Если у вас на сервере 10 ГБ оперативной памяти и 1 ГБ SWAP, то SWAP не отнимает 1 ГБ от оперативной памяти. SWAP действует как дополнительное хранилище для данных, которые не могут быть хранены в оперативной памяти. Когда оперативная память заполняется, неиспользуемые данные перемещаются в область SWAP, чтобы освободить место в оперативной памяти для более важных данных.

Таким образом, оперативная память и SWAP работают вместе для обеспечения эффективного использования ресурсов системы. SWAP не отнимает оперативную память, но предоставляет дополнительное пространство для хранения данных в случае нехватки оперативной памяти.

## 4. Что такое `Inode`? (Linux)

## 5. На боевом разделе закончились Inode, там лежат важные данные, которые никак нельзя удалять. Что сделать чтобы спасти ситуацию? (Linux)
Когда на боевом разделе заканчиваются Inode, это может привести к невозможности создания новых файлов или к изменению существующих файлов, что может серьезно повлиять на работу сервера, особенно если там хранятся важные данные, включая базы данных.

Для решения этой проблемы можно предпринять следующие шаги:

1. Освободить место на разделе: Попробуйте удалить ненужные или временные файлы с раздела, чтобы освободить место для создания новых Inode. Однако, учитывайте, что удаление файлов может быть нежелательным, если они содержат важные данные.

2. Перенести данные на другой раздел: Создайте новый раздел с достаточным количеством Inode и скопируйте туда важные данные, включая базы данных. После этого можно будет работать с данными на новом разделе без ограничений Inode.

3. Увеличить количество Inode на текущем разделе: Возможно, потребуется изменить размер раздела с увеличением количества Inode. Это может быть сложным и требует опыта в администрировании Linux.

4. Оптимизировать использование Inode: Проверьте, есть ли файлы или папки, которые занимают большое количество Inode, и оптимизируйте их использование.

5. Связаться с профессионалами: В случае серьезных проблем с Inode, особенно если на разделе хранятся важные данные, рекомендуется обратиться к специалистам или администраторам Linux для помощи и решения проблемы без ущерба для данных.

Важно провести тщательный анализ ситуации и выбрать наиболее подходящий способ решения проблемы, чтобы избежать потери важных данных и минимизировать возможные проблемы с работой сервера.

## 6. На сервере не так много дискового пространства и было принято решение мигрировать на другой тип файловой системы. Какой тип файловой системы лучше выбрать? Какую лучше выбрать ФС для большого кол-ва INODE? (Linux)

Выбор файловой системы зависит от конкретных требований, но если вам нужно увеличить количество Inode, то следует выбирать файловые системы, которые хорошо масштабируются и поддерживают большое количество Inode.

Несколько хороших вариантов для увеличения количества Inode:

1. **XFS (eXtensible File System)**: XFS обеспечивает высокую производительность при работе с большими файловыми системами и большим количеством Inode. Он хорошо масштабируется и подходит для хранения большого объема данных, включая базы данных.

2. **ext4 с опцией "dir_index"**: ext4 - одна из самых распространенных файловых систем в Linux. При создании файловой системы ext4 с опцией "dir_index" (по умолчанию), это позволяет увеличить количество элементов в каталоге, что поможет увеличить количество доступных Inode.

3. **Btrfs (B-Tree File System)**: Btrfs предоставляет высокую степень надежности, быстродействия и поддерживает большое количество Inode. Он также имеет встроенную поддержку снимков и проверку целостности данных.

Примеры команд для создания файловой системы:
- Создание XFS: `mkfs.xfs /dev/sdX`
- Создание ext4 с опцией "dir_index": `mkfs.ext4 -O dir_index /dev/sdX`
- Создание Btrfs: `mkfs.btrfs /dev/sdX`

Убедитесь, что перед выбором и применением новой файловой системы у вас есть резервное копирование всех важных данных, так как процесс перехода на новую файловую систему потенциально опасен и может привести к потере данных, если не выполнен корректно.

## 7. Что такое Load Average? Интерпретировать когда он у нас большой и пора паниковать, а когда всё в норме? (Linux)

Load Average - это показатель, который отображает среднюю загрузку процессора за определенный период времени. В Linux этот показатель представлен тремя значениями, обозначаемыми как 1 минута, 5 минут и 15 минут.

Обычно Load Average выражается в виде чисел, например, 0.50 означает, что в среднем за указанный период времени процессор используется наполовину.

Интерпретация Load Average:
- Load Average меньше количества ядер процессора (например, 1 на сервере с 4 ядрами) - все в порядке, система спокойно обрабатывает загрузку.
- Load Average примерно равно количеству ядер - нормальная загрузка, но необходимо внимательно следить за изменениями.
- Load Average в 2-3 раза больше количества ядер - высокая загрузка, система может начать тормозить, возможно, необходимо оптимизировать работу сервисов или добавить ресурсы.
- Load Average значительно больше количества ядер - критическая ситуация, процессы могут начать зависать, возможно, уже происходит значительное замедление системы.

Для диагностики Load Average можно использовать команду `uptime` или `top`. При использовании команды `uptime` вы увидите текущий Load Average в формате 1 минуты, 5 минут и 15 минут. Пример:

```
$ uptime
  12:34:56 up 1 day, 2:03,  3 users,  load average: 0.15, 0.20, 0.30
```

Если вам нужно более подробное представление текущей загрузки системы, используйте команду `top`, где в верхней части отображается Load Average, а также другая полезная информация о работе системы. Команда `top` запускается в терминале, выход из нее производится с помощью нажатия клавиши `q`.

Наблюдайте за Load Average на своем сервере, чтобы рано обнаруживать проблемы и моментально реагировать на них.

## 8. Есть сервер (4 ядра, 16 гб памяти), LA в моменте - 17. Это плохо или хорошо? (Linux)

Load Average (LA) величиной 17 для сервера с 4 ядрами может считаться очень высоким. Обычно, если LA превышает количество физических ядер процессора в разы (например, LA больше 4 для 4-ядерного процессора), это указывает на серьезное перегруженное состояние системы.

В вашем случае, если Load Average держится на уровне 17 в течение продолжительного времени, это может означать, что процессы на сервере испытывают задержки из-за высокой загрузки процессора. Это может привести к замедлению работы сервера и возможному зависанию приложений.

В таких случаях следует принимать меры для снижения Load Average, такие как оптимизация процессов, распределение нагрузки, увеличение ресурсов сервера или масштабирование приложений. Также может быть полезно проанализировать процессы и узнать, какие из них являются основной причиной высокой загрузки процессора.

Таким образом, при LA величиной 17 на сервере с 4 ядрами стоит обратить на это внимание и принять соответствующие меры для улучшения производительности и стабильности системы.

## Продолжить собес с 11:00 мин